{"version":3,"file":"index.d7a4b4da.js","sources":["../../vite/modulepreload-polyfill","../../src/js/eventObserver.js","../../src/js/signalEmiter.js","../../src/js/board.js","../../src/js/config.js","../../src/js/control.js","../../src/js/tools/tool.js","../../src/js/tools/brush.js","../../src/js/tools/line.js","../../src/js/tools/rectangle.js","../../src/js/tools/circle.js","../../src/js/tools/Triangle.js","../../src/js/tools/Eraser.js","../../src/js/tools/wiper.js","../../src/js/tools/saver.js","../../src/js/makeTool.js","../../src/js/gui.js","../../src/js/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export default class EventObserver {\r\n\tconstructor() {\r\n\t\tthis.subscribers = [];\r\n\t}\r\n\t\r\n\ton(fn) {\t//subscription  - add fn to array\r\n\t\tthis.subscribers.push(fn);\r\n\t}\r\n\t\r\n\toff(fn) {\t//remove from array\r\n\t\tthis.subscribers = this.subscribers.filter(el => el !== fn);\r\n\t}\r\n\t\r\n\temit(data) {\t//invoke all functions in array\r\n\t\tthis.subscribers.forEach(fn => {\r\n\t\t\tfn(data);\r\n\t\t});\r\n\t}\r\n}","import EventObserver from \"./eventObserver\";\r\n\r\nexport default {\r\n\tchangeTool: new EventObserver(),\r\n\tchangeColor: new EventObserver(),\r\n\tchangeSize: new EventObserver(),\r\n\tchangeCtrl: new EventObserver(),\r\n\tchangeModifier: new EventObserver(),\r\n}\r\n","import emiter from \"./signalEmiter\";\r\n\r\nfunction createCanvas(id, parentElement) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width =  parentElement.offsetWidth;\r\n    canvas.height = parentElement.offsetHeight;\r\n    canvas.id = id;\r\n    return canvas;\r\n}\r\n\r\nclass Board {\r\n    constructor(query) {\r\n        this.container = document.querySelector(query);\r\n\r\n        this.canvas1 = createCanvas(\"mainCanvas\", this.container);\r\n        this.canvas2 = createCanvas(\"secondaryCanvas\", this.container);\r\n\r\n        this.container.append(this.canvas1);\r\n        this.container.append(this.canvas2);\r\n\r\n        this.ctx1 = this.canvas1.getContext(\"2d\");\r\n        this.ctx2 = this.canvas2.getContext(\"2d\");\r\n\r\n        this.mouse = { x: 0, y : 0 }\r\n        this.currentTool = null;\r\n        this.toolParams = {\r\n            color: \"black\",\r\n            size: 8,\r\n            isCtrl: false,\r\n            modifier: null,\r\n        }\r\n\r\n        this.bindEvents();\r\n    }\r\n\r\n    bindEvents() {\r\n        document.addEventListener(\"mousemove\", e => {\r\n            this.mouse.x = e.pageX;\r\n            this.mouse.y = e.pageY;\r\n\r\n            if (this.currentTool) {\r\n                this.currentTool.onMouseMove(e.pageX, e.pageY, this.ctx1, this.ctx2, this.toolParams)\r\n            }\r\n        });\r\n\r\n        this.canvas1.addEventListener(\"mousedown\", e => {\r\n            if (this.currentTool) {\r\n                this.currentTool.onMouseDown(e.offsetX, e.offsetY, this.ctx1, this.ctx2, this.toolParams)\r\n            }\r\n        });\r\n\r\n        this.canvas1.addEventListener(\"mouseup\", e => {\r\n            if (this.currentTool) {\r\n                this.currentTool.onMouseUp(e.offsetX, e.offsetY, this.ctx1, this.ctx2, this.toolParams)\r\n            }\r\n        });\r\n    }\r\n\r\n    setColor(color) {\r\n        this.toolParams.color = color;\r\n        this.currentTool.onMouseMove(this.mouse.x, this.mouse.y, this.ctx1, this.ctx2, this.toolParams);\r\n\t\temiter.changeColor.emit(color);\r\n    }\r\n\r\n    setSize(size) {\r\n        this.toolParams.size = size;\r\n        this.currentTool.onMouseMove(this.mouse.x, this.mouse.y, this.ctx1, this.ctx2, this.toolParams);\r\n\t\temiter.changeSize.emit(size);\r\n    }\r\n\r\n    setTool(tool) {\r\n        this.currentTool = tool;\r\n        this.currentTool.onMouseMove(this.mouse.x, this.mouse.y, this.ctx1, this.ctx2, this.toolParams);\r\n\t\temiter.changeTool.emit(tool);\r\n    }\r\n\r\n    setModifier(modifier) {\r\n        this.toolParams.modifier = modifier;\r\n        this.currentTool.onMouseMove(this.mouse.x, this.mouse.y, this.ctx1, this.ctx2, this.toolParams);\r\n\t\temiter.changeModifier.emit(modifier);\r\n    }\r\n\r\n    // setCtrl(bool) {\r\n    //     this.toolParams.isCtrl = bool;\r\n    //     this.currentTool.onMouseMove(this.mouse.x, this.mouse.y, this.ctx1, this.ctx2, this.toolParams);\r\n\t// \temiter.changeCtrl.emit(bool);\r\n    // }\r\n}\r\n\r\nconst board = new Board(\"#canvasCnt\");\r\nexport default board;","export default {\r\n\ttools: [\r\n\t\t{key : \"`\", tool: \"eraser\"},\r\n\t\t{key : \"1\", tool: \"brush\"},\r\n\t\t{key : \"2\", tool: \"line\"},\r\n\t\t{key : \"3\", tool: \"rectangle\"},\r\n\t\t{key : \"4\", tool: \"circle\"},\r\n\t\t{key : \"5\", tool: \"triangle\"},\r\n\t\t{key : \"Escape\", tool: \"wiper\"},\r\n\t\t{key : \"F1\", tool: \"saver\"}\r\n\t],\r\n\r\n\tmodifiers: [\r\n\t\t{key : \"Control\", modifier: \"control\"},\r\n\t\t{key : \"Shift\", modifier: \"shift\"},\r\n\t\t{key : \"Alt\", modifier: \"alt\"}\r\n\t],\r\n\r\n\tcolors: [\r\n\t\t{key : \"r\", color: \"red\"},\r\n\t\t{key : \"g\", color: \"green\"},\r\n\t\t{key : \"b\", color: \"blue\"}\r\n\t]\r\n}","import board from \"./board\";\r\nimport config from \"./config\";\r\nimport makeTool from \"./makeTool\";\r\n\r\nclass Control {\r\n    constructor() {\r\n        this.keyUpTool = this.keyUpTool.bind(this);\r\n        this.keyUpColor = this.keyUpColor.bind(this);\r\n        this.wheelSize = this.wheelSize.bind(this);\r\n        this.keyUpTool = this.keyUpTool.bind(this);\r\n        // this.ctrlUp = this.ctrlUp.bind(this);\r\n        this.keyDownModifier = this.keyDownModifier.bind(this);\r\n        this.keyUpModifier = this.keyUpModifier.bind(this);\r\n\r\n\r\n        document.addEventListener(\"keyup\", this.keyUpTool);\r\n        document.addEventListener(\"keyup\", this.keyUpColor);\r\n        // document.addEventListener(\"keydown\", this.ctrlUp);\r\n        document.addEventListener(\"keydown\", this.keyDownModifier);\r\n        document.addEventListener(\"keyup\", this.keyUpModifier);\r\n        document.addEventListener(\"wheel\", this.wheelSize);\r\n    }\r\n\r\n    keyUpTool(e) {\r\n        config.tools.forEach(el => {\r\n            if (e.key === el.key) {\r\n                const tool = makeTool(el.tool);\r\n                if (e.key !== \"Escape\" &&\r\n                    e.key !== \"F1\") {\r\n                    board.setTool(tool);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    keyUpColor(e) {\r\n        config.colors.forEach(el => {\r\n            if (e.key === el.key) {\r\n                const color = el.color;\r\n                board.setColor(color);\r\n            }\r\n        });\r\n    }\r\n\r\n    keyDownModifier(e) {\r\n        config.modifiers.forEach(el => {\r\n            if (e.key === el.key) {\r\n                const modifier = el.modifier;\r\n                board.setModifier(modifier);\r\n            }\r\n        });\r\n    }\r\n\r\n    keyUpModifier(e) {\r\n        config.modifiers.forEach(el => {\r\n            if (e.key === el.key) {\r\n                const modifier = null;\r\n                board.setModifier(modifier);\r\n            }\r\n        });\r\n    }\r\n\r\n    wheelSize(e) {\r\n        let size = board.toolParams.size;\r\n        if (e.deltaY > 0) size = this.decreaseWidth(size);\r\n        if (e.deltaY < 0) size = this.increaseWidth(size);\r\n        board.setSize(size);\r\n   }\r\n\r\n   ctrlUp(e) {\r\n       if (e.ctrlKey) {\r\n           return true;\r\n       }\r\n   }\r\n\r\n    decreaseWidth(size) {\r\n        size -= 2;\r\n        return Math.max(2, size);\r\n    }\r\n\r\n    increaseWidth(size) {\r\n        size += 2;\r\n        return Math.min(60, size);\r\n    }\r\n}\r\n\r\nconst control = new Control();\r\nexport default control;","import control from \"../control\";\r\nimport board from \"../board\";\r\nexport default class Tool {\r\n\tconstructor() {\r\n\t\tthis.name = \"\";\r\n\t}\r\n\r\n\tdrawPointer(x, y, ctx1, ctx2, toolProp) {}\r\n\r\n\tonMouseMove(x, y, ctx1, ctx2, toolProp) {}\r\n\r\n\tonMouseUp(x, y, ctx1, ctx2, toolProp) {}\r\n\r\n\tonMouseDown(x, y, ctx1, ctx2, toolProp) {}\r\n}","import Tool from \"./tool\";\r\n\r\nexport default class Brush extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"brush\";\r\n\t\tthis._draw = false;\r\n        this._prevX = 0;\r\n        this._prevY = 0;\r\n\t}\r\n\r\n\t    //draw pointer at cursor's place\r\n    drawPointer(x, y, ctx, toolProp) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, toolProp.size/2-1, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.restore();\r\n\t}\r\n\r\n\tonMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        //if mouse key is pressed draw on canvas\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            ctx1.lineWidth = toolProp.size;\r\n            ctx1.lineCap = \"round\";\r\n            ctx1.strokeStyle = toolProp.color;\r\n            ctx1.beginPath();\r\n            ctx1.moveTo(this._prevX , this._prevY);\r\n            ctx1.lineTo(x, y);\r\n            ctx1.stroke();\r\n        }\r\n\r\n        this._prevX = x;\r\n        this._prevY = y;\r\n    }\r\n\r\n\tonMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n        this._draw = false;\r\n        ctx1.restore();\r\n    }\r\n\r\n\tonMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            ctx1.save();\r\n        }\r\n    }\r\n}","import Tool from \"./tool.js\";\r\n\r\nexport default class Line extends Tool {\r\n    constructor() {\r\n        super();\r\n        this.name = \"line\";\r\n        this._draw = false;\r\n        this._startX = 0;\r\n        this._startY = 0;\r\n    }\r\n\r\n    drawFigure(x, y, ctx, toolProp) {\r\n        ctx.lineWidth = toolProp.size;\r\n        ctx.lineCap = \"square\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.beginPath();\r\n        ctx.moveTo(this._startX, this._startY);\r\n        ctx.lineTo(x, y);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.restore();\r\n    }\r\n\r\n    drawPointer(x, y, ctx, toolProp) {\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.strokeRect(x - toolProp.size / 2, y - toolProp.size / 2, toolProp.size, toolProp.size);\r\n        ctx.restore();\r\n    }\r\n\r\n    onMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        ctx2.clearRect(0, 0, ctx2.canvas.width, ctx2.canvas.height);\r\n\r\n \t\t//if user does't hold key draw straight pointer\r\n\t\t//if key is pressed draw line on secondary canvas\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            this.drawFigure(x, y, ctx2, toolProp);\r\n        }\r\n\r\n    }\r\n\r\n    onMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n        if (this._draw) {\r\n            this.drawFigure(x, y, ctx1, toolProp);\r\n        }\r\n        this._draw = false;\r\n    }\r\n\r\n\t//if user hold mouse key set start position of line\r\n    onMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            this._startX = x;\r\n            this._startY = y;\r\n        }\r\n    }\r\n}","import Tool from \"./tool\";\r\n\r\nexport default class Rectangle extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"rectangle\";\r\n\t\tthis._draw = false;\r\n\t\tthis._startX = 0;\r\n\t\tthis._startY = 0;\r\n\t}\r\n\r\n\tdrawFigure(x, y, ctx, toolProp) {\r\n\t\tctx.lineWidth = toolProp.size;\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.beginPath();\r\n\r\n        if (toolProp.modifier == \"control\") {\r\n            ctx.fillStyle = toolProp.color;\r\n            ctx.fillRect(this._startX, this._startY, x - this._startX, y - this._startY);\r\n        } else {\r\n            ctx.strokeStyle = toolProp.color;\r\n            ctx.strokeRect(this._startX, this._startY, x - this._startX, y - this._startY);\r\n        }\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tdrawPointer(x, y, ctx, toolProp) {\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.strokeRect(x - toolProp.size / 2, y - toolProp.size / 2, toolProp.size, toolProp.size);\r\n        ctx.restore();\r\n    }\r\n\r\n    onMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        ctx2.clearRect(0, 0, ctx2.canvas.width, ctx2.canvas.height);\r\n\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            this.drawFigure(x, y, ctx2, toolProp);\r\n        }\r\n    }\r\n\r\n    onMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n            if (this._draw) {\r\n                this.drawFigure(x, y, ctx1, toolProp);\r\n            }\r\n            this._draw = false;\r\n        }\r\n\r\n    onMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            this._startX = x;\r\n            this._startY = y;\r\n        }\r\n    }\r\n}","import Tool from \"./tool\";\r\n\r\nexport default class Circle extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"circle\";\r\n\t\tthis._draw = false;\r\n\t\tthis._startX = 0;\r\n\t\tthis._startY = 0;\r\n\t}\r\n\r\n\tdrawFigure(x, y, ctx, toolProp) {\r\n        ctx.save();\r\n\t\tctx.lineWidth = toolProp.size;\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.beginPath();\r\n        const i = Math.min(this._startX, x);\r\n        let r = Math.min(this._startY, y);\r\n        let n = Math.max(this._startX, x);\r\n        let a = Math.max(this._startY, y);\r\n        let h = i + (n - i) / 2;\r\n        let c = r + (a - r) / 2;\r\n        let l = (n - i) / 2;\r\n        let d = (a - r) / 2;\r\n        ctx.ellipse(h, c, l, d, 0, 0, 2 * Math.PI);\r\n\r\n        if (toolProp.modifier == \"control\") {\r\n            ctx.fillStyle = toolProp.color;\r\n            ctx.fill();\r\n        } else {\r\n            ctx.strokeStyle = toolProp.color;\r\n            ctx.stroke();\r\n        }\r\n\r\n        ctx.restore();\r\n\t}\r\n\r\n    //draw pointer at cursor's place\r\n     drawPointer(x, y, ctx, toolProp) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, toolProp.size/2-1, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.restore();\r\n        }\r\n\r\n    onMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        ctx2.clearRect(0, 0, ctx2.canvas.width, ctx2.canvas.height);\r\n\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            this.drawFigure(x, y, ctx2, toolProp);\r\n        }\r\n    }\r\n\r\n    onMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n        if (this._draw) {\r\n            this.drawFigure(x, y, ctx1, toolProp);\r\n        }\r\n        this._draw = false;\r\n    }\r\n\r\n    onMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            this._startX = x;\r\n            this._startY = y;\r\n        }\r\n    }\r\n}","import Tool from \"./tool\";\r\n\r\nexport default class Triangle extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"triangle\";\r\n\t\tthis._draw = false;\r\n\t\tthis._startX = 0;\r\n\t\tthis._startY = 0;\r\n\t}\r\n\r\n\r\n    sideOfTriangle(x) {\r\n        return this._startX - (x - this._startX)\r\n    }\r\n\r\n\tdrawFigure(x, y, ctx, toolProp) {\r\n\t\tctx.lineWidth = toolProp.size;\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.beginPath();\r\n        ctx.moveTo(this._startX, this._startY);\r\n        ctx.lineTo(x, y);\r\n        ctx.lineTo(this.sideOfTriangle(x), y);\r\n        ctx.closePath();\r\n\r\n        if (toolProp.modifier == \"control\") {\r\n            ctx.fillStyle = toolProp.color;\r\n            ctx.fill();\r\n        } else {\r\n            ctx.strokeStyle = toolProp.color;\r\n            ctx.stroke();\r\n        }\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tdrawPointer(x, y, ctx, toolProp) {\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y - toolProp.size / 2);\r\n        ctx.lineTo((x - toolProp.size / 2) + toolProp.size, (y - toolProp.size / 2) + toolProp.size);\r\n        ctx.lineTo((x - toolProp.size / 2), (y - toolProp.size / 2) + toolProp.size);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    onMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        ctx2.clearRect(0, 0, ctx2.canvas.width, ctx2.canvas.height);\r\n\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            this.drawFigure(x, y, ctx2, toolProp);\r\n        }\r\n    }\r\n\r\n    onMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n        if (this._draw) {\r\n            this.drawFigure(x, y, ctx1, toolProp);\r\n        }\r\n        this._draw = false;\r\n    }\r\n\r\n    onMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            this._startX = x;\r\n            this._startY = y;\r\n        }\r\n    }\r\n}","import Tool from \"./tool\";\r\n\r\nexport default class Eraser extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"eraser\";\r\n\t\tthis._draw = false;\r\n        this._prevX = 0;\r\n        this._prevY = 0;\r\n\t}\r\n\r\n    //draw pointer at cursor's place\r\n    drawPointer(x, y, ctx, toolProp) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.save();\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = toolProp.color;\r\n        ctx.globalAlpha = 1;\r\n        ctx.beginPath();\r\n        ctx.strokeRect(x - toolProp.size / 2, y - toolProp.size / 2, toolProp.size, toolProp.size);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        ctx.restore();\r\n\t}\r\n\r\n\tonMouseMove(x, y, ctx1, ctx2, toolProp) {\r\n        //if mouse key is pressed draw on canvas\r\n        if (!this._draw) {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n        } else {\r\n            this.drawPointer(x, y, ctx2, toolProp);\r\n            ctx1.globalCompositeOperation = \"destination-out\";\r\n            ctx1.lineWidth = toolProp.size;\r\n            ctx1.lineCap = \"round\";\r\n            ctx1.strokeStyle = \"rgba(255,255,255,1)\";\r\n            ctx1.beginPath();\r\n            ctx1.moveTo(this._prevX , this._prevY);\r\n            ctx1.lineTo(x, y);\r\n            ctx1.stroke();\r\n        }\r\n\r\n        this._prevX = x;\r\n        this._prevY = y;\r\n    }\r\n\r\n\tonMouseUp(x, y, ctx1, ctx2, toolProp) {\r\n        this._draw = false;\r\n        ctx1.restore();\r\n    }\r\n\r\n\tonMouseDown(x, y, ctx1, ctx2, toolProp) {\r\n        if (!this._draw) {\r\n            this._draw = true;\r\n            ctx1.save();\r\n        }\r\n    }\r\n}","import board from \"../board\";\r\nimport Tool from \"./tool\";\r\n\r\nexport default class Wiper extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"wiper\";\r\n\t\tthis._draw = false;\r\n        this._prevX = 0;\r\n        this._prevY = 0;\r\n        board.ctx1.clearRect(0, 0, board.ctx1.canvas.width, board.ctx1.canvas.height);\r\n    }\r\n\r\n}","import board from \"../board\";\r\nimport Tool from \"./tool\";\r\n\r\nexport default class Saver extends Tool {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.name = \"saver\";\r\n\t\tthis._draw = false;\r\n        this._prevX = 0;\r\n        this._prevY = 0;\r\n        this.imageName = prompt('Enter image name');\r\n\r\n        if (this.imageName === null) {\r\n            return;     // break out of the function if user clicked cancel\r\n            }\r\n        else {\r\n            const canvasDataURL = board.canvas1.toDataURL();\r\n            this.a = document.createElement('a');\r\n            this.a.href = canvasDataURL;\r\n            this.a.download = this.imageName || 'drawing';\r\n            this.a.click();\r\n        }\r\n    }\r\n\r\n}","import Brush from \"./tools/brush\";\r\nimport Line from \"./tools/line\";\r\nimport Rectangle from \"./tools/rectangle\";\r\nimport Circle from \"./tools/circle\";\r\nimport Triangle from \"./tools/Triangle\";\r\nimport Eraser from \"./tools/Eraser\";\r\nimport Wiper from \"./tools/wiper\";\r\nimport Saver from \"./tools/saver\";\r\n\r\nexport default function(tool) {\r\n    switch (tool) {\r\n        case \"brush\":\r\n            return new Brush();\r\n        case \"line\":\r\n            return new Line();\r\n        case \"rectangle\":\r\n            return new Rectangle();\r\n         case \"circle\":\r\n            return new Circle();\r\n        case \"triangle\":\r\n            return new Triangle();\r\n        case \"eraser\":\r\n            return new Eraser();\r\n        case \"wiper\":\r\n            return new Wiper();\r\n        case \"saver\":\r\n            return new Saver();\r\n    }\r\n}","import emiter from \"./signalEmiter\";\r\nimport config from \"./config\";\r\nimport makeTool from \"./makeTool\";\r\nimport board from \"./board\";\r\n\r\nclass Gui {\r\n    constructor(query) {\r\n        this.cnt = null;\r\n\r\n        this.generateHTML(query);\r\n        this.bindEvents();\r\n    }\r\n\r\n    //generate html for gui\r\n    generateHTML(query) {\r\n        const icons = {\r\n            \"eraser\": `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\"><path d=\"M12.48 3 7.73 7.75 3 12.59a2 2 0 0 0 0 2.82l4.3 4.3A1 1 0 0 0 8 20h12v-2h-7l7.22-7.22a2 2 0 0 0 0-2.83L15.31 3a2 2 0 0 0-2.83 0zM8.41 18l-4-4 4.75-4.84.74-.75 4.95 4.95-4.56 4.56-.07.08z\"></path></svg>`,\r\n            \"wiper\": `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z\"/></svg>`,\r\n            \"brush\": `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M15.456 9.678l-.142-.142a5.475 5.475 0 0 0-2.39-1.349c-2.907-.778-5.699.869-6.492 3.83-.043.16-.066.34-.104.791-.154 1.87-.594 3.265-1.8 4.68 2.26.888 4.938 1.514 6.974 1.514a5.505 5.505 0 0 0 5.31-4.078 5.497 5.497 0 0 0-1.356-5.246zM13.29 6.216l4.939-3.841a1 1 0 0 1 1.32.082l2.995 2.994a1 1 0 0 1 .082 1.321l-3.84 4.938a7.505 7.505 0 0 1-7.283 9.292C8 21.002 3.5 19.5 1 18c3.98-3 3.047-4.81 3.5-6.5 1.058-3.95 4.842-6.257 8.789-5.284zm3.413 1.879c.065.063.13.128.193.194l1.135 1.134 2.475-3.182-1.746-1.746-3.182 2.475 1.125 1.125z\"/></svg>`,\r\n            \"line\": `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 11H19V13H5z\"/></svg>`,\r\n            \"rectangle\": `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M20,3H4C3.448,3,3,3.447,3,4v16c0,0.553,0.448,1,1,1h16c0.553,0,1-0.447,1-1V4C21,3.447,20.553,3,20,3z M19,19H5V5h14V19z\"/></svg>`,\r\n            \"circle\": `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,2C6.486,2,2,6.486,2,12s4.486,10,10,10s10-4.486,10-10S17.514,2,12,2z M12,20c-4.411,0-8-3.589-8-8s3.589-8,8-8 s8,3.589,8,8S16.411,20,12,20z\"/></svg>`,\r\n            \"triangle\": `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\"><path d=\"M3 19h18a1.002 1.002 0 0 0 .823-1.569l-9-13c-.373-.539-1.271-.539-1.645 0l-9 13A.999.999 0 0 0 3 19zm9-12.243L19.092 17H4.908L12 6.757z\"></path></svg>`,\r\n            \"saver\": `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\"><path d=\"M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z\"></path></svg>`\r\n\r\n        };\r\n\r\n        this.cnt = document.createElement(\"div\");\r\n        this.cnt.classList.add(\"gui\");\r\n\r\n        this.cnt.innerHTML = `\r\n            <div class=\"gui-color\">\r\n                <span class=\"gui-color__element\"></span>\r\n            </div>\r\n            <ul class=\"gui-tools\">\r\n                ${config.tools.map(el => {\r\n                    return `<li class=\"gui-tools__element\" data-tool=\"${el.tool}\">${icons[el.tool]}</li>`\r\n                }).join(\"\")}\r\n            </ul>\r\n        `;\r\n        document.querySelector(query).append(this.cnt);\r\n    }\r\n\r\n    updateToolsList(toolName) {\r\n        if (toolName !== \"wiper\" &&\r\n            toolName !== \"saver\") {\r\n            this.cnt.querySelectorAll(\".gui-tools__element\").forEach(el => {\r\n                el.classList.remove(\"is-active\");\r\n            });\r\n\r\n            this.cnt.querySelector(`.gui-tools__element[data-tool=\"${toolName}\"]`).classList.add(\"is-active\");\r\n        }\r\n\r\n    }\r\n\r\n    updateColor(color) {\r\n        this.cnt.querySelector(\".gui-color__element\").style.background = color;\r\n    }\r\n\r\n    bindEvents() {\r\n        //after click at list's elements change current tool and emit signal\r\n        this.cnt.querySelectorAll(\".gui-tools__element\").forEach(el => {\r\n            el.addEventListener(\"click\", e => {\r\n                const tool = makeTool(el.dataset.tool);\r\n                if (el.dataset.tool !== \"wiper\" &&\r\n                    el.dataset.tool !== \"saver\") {\r\n                    board.setTool(tool);\r\n                }\r\n            })\r\n        })\r\n\r\n        emiter.changeTool.on(tool => {\r\n            this.updateToolsList(tool.name);\r\n        })\r\n\r\n        emiter.changeColor.on(color => {\r\n            this.updateColor(color);\r\n        })\r\n    }\r\n}\r\n\r\nconst gui = new Gui(\"#app\");\r\nexport default gui;","import style from \"../scss/main.scss\";\r\nimport board from \"./board\";\r\nimport makeTool from \"./makeTool\";\r\nimport control from \"./control\";\r\nimport emiter from \"./signalEmiter\";\r\nimport gui from \"./gui\";\r\n\r\nclass App {\r\n\tconstructor() {\r\n\t\tthis.test();\r\n\t\tboard.setTool(makeTool(\"brush\"));\r\n\t\tboard.setColor(\"black\");\r\n\t\tboard.setSize(8);\r\n\t}\r\n\r\n\ttest() {\r\n\t\temiter.changeTool.on(tool => {\r\n\t\t\tconsole.log(\"Tool changed for \", tool);\r\n\t\t})\r\n\r\n\t\temiter.changeSize.on(size => {\r\n\t\t\tconsole.log(\"Resized to \", size);\r\n\t\t})\r\n\r\n\t\temiter.changeColor.on(color => {\r\n\t\t\tconsole.log(\"Color changed for \", color);\r\n\t\t})\r\n\r\n\t\temiter.changeModifier.on(modifier => {\r\n\t\t\tconsole.log(\"Modifier changed for: \", modifier);\r\n\t\t})\r\n\r\n\t\temiter.changeCtrl.on(bool => {\r\n\t\t\tconsole.log(\"Ctrl: \", bool);\r\n\t\t})\r\n\t}\r\n}\r\n\r\nnew App();"],"names":[],"mappings":"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"}